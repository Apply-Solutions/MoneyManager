<UserControl x:Class="MoneyFox.Windows.Views.UserControls.SettingsBackgroundJobUserControl"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:input="using:Telerik.UI.Xaml.Controls.Input"
             xmlns:designTime="using:MoneyFox.Business.ViewModels.DesignTime"
             d:DesignHeight="300"
             d:DesignWidth="400"
             mc:Ignorable="d">

    <!--<UserControl.DataContext>
        <designTime:DesignTimeSettingsBackupViewModel />
    </UserControl.DataContext>-->
    <UserControl.Resources>
        <Storyboard x:Name="ShowCheck">
            <DoubleAnimation Duration="0:0:0.5"
                     Storyboard.TargetName="Clipper"
                     Storyboard.TargetProperty="TranslateX"
                     To="0" />
        </Storyboard>
        <Storyboard x:Name="FillProgressBar">
            <DoubleAnimation Duration="0:0:1" Storyboard.TargetName="Progress" EnableDependentAnimation="True"
                             Storyboard.TargetProperty="Value" To="100"  d:IsOptimized="True">
                <DoubleAnimation.EasingFunction>
                    <CubicEase EasingMode="EaseInOut"/>
                </DoubleAnimation.EasingFunction>
            </DoubleAnimation>
        </Storyboard>
    </UserControl.Resources>

    <Grid>
        <StackPanel>
            <StackPanel.Resources>
                <SolidColorBrush x:Key="FlyoverTextColor">White</SolidColorBrush>
            </StackPanel.Resources>
            <TextBlock Text="Back Up" FontSize="20" Foreground="{StaticResource FlyoverTextColor}"/>
            <ToggleSwitch VerticalAlignment="Center" Margin="10, 10, 0, 10"
                          x:Name="autoSyncToggle" Foreground="{StaticResource FlyoverTextColor}"
                          Header="Auto Sync" AllowFocusOnInteraction="False"
                          IsOn="{Binding IsAutoBackupEnabled,
                                         Mode=TwoWay}">
                <ToggleSwitch.Resources>
                    <ResourceDictionary>
                        <ResourceDictionary.ThemeDictionaries>
                            <ResourceDictionary x:Key="Light">
                                <SolidColorBrush x:Key="ToggleSwitchHeaderForeground" Color="White"/>
                                <SolidColorBrush x:Key="ToggleSwitchFillOn" Color="#424085"/>
                                <SolidColorBrush x:Key="ToggleSwitchKnobFillOn" Color="White"/>
                                <SolidColorBrush x:Key="ToggleSwitchStrokeOff" Color="White"/>
                                <SolidColorBrush x:Key="ToggleSwitchKnobFillOff" Color="White"/>
                                <SolidColorBrush x:Key="ToggleSwitchKnobFillOffPointerOver" Color="#d3d3e9"/>
                                <SolidColorBrush x:Key="ToggleSwitchFillOnPointerOver" Color="#5e5cb0"/>
                                <SolidColorBrush x:Key="ToggleSwitchStrokeOffPointerOver" Color="#d3d3e9"/>
                                <SolidColorBrush x:Key="ToggleSwitchStrokeOffPressed" Color="#424085"/>
                                <SolidColorBrush x:Key="ToggleSwitchFillOnPressed" Color="#5351a7"/>
                                <SolidColorBrush x:Key="ToggleSwitchFillOffPressed" Color="#424085"/>
                            </ResourceDictionary>
                        </ResourceDictionary.ThemeDictionaries>
                    </ResourceDictionary>
                </ToggleSwitch.Resources>

            </ToggleSwitch>

            <StackPanel Orientation="Horizontal" Margin="10, 0, 0, 0">
                <Button Content="Sync now" Click="Sync_Click" AllowFocusOnInteraction="False" Foreground="{StaticResource FlyoverTextColor}"/>
                <Grid VerticalAlignment="Stretch" Margin="20, 0, 0, 0">
                    <ProgressBar Width="80" Canvas.ZIndex="0" VerticalAlignment="Center" Opacity="0"
                                 x:Name="Progress" Value="0" ValueChanged="Progress_ValueChanged" Foreground="{StaticResource FlyoverTextColor}"/>
                    <TextBlock Text="&#xE73E;" FontFamily="Segoe MDL2 Assets" FontSize="30" HorizontalAlignment="Center" Foreground="{StaticResource FlyoverTextColor}">
                        <TextBlock.Clip>
                            <RectangleGeometry Rect="0, 0, 30 ,30">
                                <RectangleGeometry.Transform>
                                    <CompositeTransform TranslateX="-30" x:Name="Clipper"/>
                                </RectangleGeometry.Transform>
                            </RectangleGeometry>
                        </TextBlock.Clip>
                    </TextBlock>
                </Grid>
            </StackPanel>

        </StackPanel>
    </Grid>
</UserControl>